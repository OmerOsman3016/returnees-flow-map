<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta tags for character encoding, viewport settings, and page description -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta name="description" content="Sudan | Displacement Tracking Matrix-Returnees Flow" />
  <title>Sudan | Displacement Tracking Matrix - Returnees Flow</title>

  <!-- External CSS libraries -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.min.css" />

  <!-- Internal CSS styles -->
  <style>
    /* General body styling */
    body {
      margin: 20px;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
    }

    /* Link styling */
    a {
      color: white;
      text-decoration: none; /* Remove underline by default */
    }

    /* Title container styling */
    #title-container {
      display: flex;
      align-items: center;
      background-color: #0033A0;
      padding: 10px 20px;
      color: white;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      flex-wrap: wrap; /* Allow wrapping on smaller screens */
    }

    /* Image styling within the title container */
    .title-image {
      width: 140px; /* Adjust the width of the image */
      height: 80px; /* Maintain aspect ratio */
      margin-right: 20px; /* Add space between the image and text */
      border-radius: 5px; /* Rounded corners for the image */
    }

    /* Title text styling */
    #title {
      flex: 1; /* Allow the title to take up remaining space */
      text-align: left; /* Align text to the left */
    }

    /* Main title styling */
    #title h1 {
      margin: 0;
      font-size: 24px;
      font-weight: bold;
      border-bottom: 3px solid white; /* Add a white line below the title */
      padding-bottom: 5px; /* Add some spacing between the title and the line */
      position: relative; /* Required for pseudo-element positioning */
      display: inline-block; /* Ensures the line only spans the title's width */
    }

    /* Subtitle styling */
    #title h2 {
      margin: 0;
      font-size: 22px;
      font-weight: normal;
      color: #f0f0f0;
    }

    /* Info card styling */
    #infoCard {
      background: #fff;
      color: #0033A0;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      text-align: center;
      font-size: 15px;
      width: 250px;
      transition: all 0.2s ease;
      border: 1px solid #e0e0e0;
      margin-top: 10px; /* Add margin on smaller screens */
    }

    /* Info card hover effect */
    #infoCard:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      background: #f9f9f9;
    }

    /* Content container styling */
    .content-container {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap; /* Allow wrapping on smaller screens */
    }

    /* Enhanced paragraph section styling */
    #bpr-paragraph {
      flex: 1;
      background-color: #fff;
      border: 2px solid #0033A0;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      min-width: 300px; /* Ensure it doesn't get too small */
    }

    /* Paragraph heading styling */
    #bpr-paragraph h2 {
      margin-top: 0;
      color: #0033A0;
      font-size: 22px;
      margin-bottom: 20px;
      font-weight: 600;
      border-bottom: 2px solid #0033A0;
      padding-bottom: 10px;
    }

    /* Paragraph text styling */
    #bpr-paragraph p {
      font-size: 15px;
      line-height: 1.8;
      color: #444;
      margin: 0 0 20px 0;
    }

    /* Last paragraph text styling */
    #bpr-paragraph p:last-child {
      margin-bottom: 0;
    }

    /* Strong text styling */
    #bpr-paragraph p strong {
      color: #0033A0;
      font-weight: 600;
    }

    /* Italic text styling */
    #bpr-paragraph p em {
      font-style: italic;
      color: #555;
    }

    /* Link styling within paragraphs */
    #bpr-paragraph p a {
      color: #0033A0;
      text-decoration: underline;
      font-weight: 600;
    }

    /* Link hover effect */
    #bpr-paragraph p a:hover {
      color: #002366;
    }

    /* Bar chart container styling */
    #bar-chart-container {
      background-color: #fff;
      border: 2px solid #0033A0;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      width: 100%;
      height: 300px; /* Set a fixed height for the bar chart container */
    }

    /* Bar chart heading styling */
    #bar-chart-container h2 {
      margin-top: 0;
      color: #0033A0;
      font-size: 22px;
      margin-bottom: 20px;
      font-weight: 600;
      border-bottom: 2px solid #0033A0;
      padding-bottom: 10px;
      text-align: center;
    }

    /* Timeline and map container styling */
    #timeline-map-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 20px;
      min-width: 300px; /* Ensure it doesn't get too small */
    }

    /* Timeline container styling */
    #timeline-container {
      background-color: #fff;
      border: 2px solid #0033A0;
      border-radius: 8px;
      padding: 30px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      height: 300px;
    }

    /* Timeline heading styling */
    #timeline-container h2 {
      margin-top: 0;
      color: #0033A0;
      font-size: 20px;
      margin-bottom: 15px;
      font-weight: bold;
      text-align: center;
      border-bottom: 2px solid #0033A0;
      padding-bottom: 10px;
    }

    /* Map container styling */
    #map-container {
      background-color: #fff;
      border: 2px solid #0033A0;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Map title styling */
    #map-title {
      margin: 0;
      color: #0033A0;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      border-bottom: 2px solid #0033A0;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }

    /* Map styling */
    #map {
      height: 90vh; /* Use viewport height for dynamic sizing */
      width: 100%;
      border-radius: 8px;
    }

    /* Second map container styling */
    #map-container-2 {
      background-color: #fff;
      border: 2px solid #0033A0;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-top: 20px; /* Add some space between the two maps */
    }

    /* Second map title styling */
    #map-title-2 {
      margin: 0;
      color: #0033A0;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      border-bottom: 2px solid #0033A0;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }

    /* Second map styling */
    #map2 {
      height: 90vh; /* Use viewport height for dynamic sizing */
      width: 100%;
      border-radius: 8px;
    }

    /* Third map container styling */
    #map-container-3 {
      background-color: #fff;
      border: 2px solid #0033A0;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-top: 20px; /* Add some space between the maps */
    }

    /* Third map title styling */
    #map-title-3 {
      margin: 0;
      color: #0033A0;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      border-bottom: 2px solid #0033A0;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }

    /* Third map styling */
    #map3 {
      height: 90vh; /* Use viewport height for dynamic sizing */
      width: 100%;
      border-radius: 8px;
    }

    /* Fourth map container styling */
    #map-container-4 {
      background-color: #fff;
      border: 2px solid #0033A0;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-top: 20px; /* Add some space between the maps */
    }

    /* Fourth map title styling */
    #map-title-4 {
      margin: 0;
      color: #0033A0;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      border-bottom: 2px solid #0033A0;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }

    /* Fourth map styling */
    #map4 {
      height: 90vh; /* Use viewport height for dynamic sizing */
      width: 100%;
      border-radius: 8px;
    }

    /* Footer styling */
    footer {
      background-color: #0033A0;
      color: #FFFFFF;
      text-align: center;
      padding: 10px;
      margin-top: 20px;
      font-size: 12px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      background: linear-gradient(145deg, #0033A0, #002366); /* Add gradient */
    }

    /* Responsive design for smaller screens */
    @media (max-width: 768px) {
      #title-container {
        flex-direction: column;
        align-items: flex-start;
      }

      #infoCard {
        width: 100%;
        margin-top: 10px;
      }

      .content-container {
        flex-direction: column;
      }

      #bpr-paragraph,
      #timeline-container,
      #map-container,
      #map-container-2,
      #map-container-3,
      #bar-chart-container {
        width: 100%;
      }

      #map,
      #map2,
      #map3 {
        height: 50vh; /* Adjust height for mobile */
      }
    }
    /* Dashboard Cards Styling */
    .dashboard-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .dashboard-card {
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    .dashboard-card h2 {
      margin-top: 0;
      font-size: 1.5em;
      color: #333;
    }

    .dashboard-card p {
      color: #666;
    }

    .dashboard-card .progress-bar {
      background-color: #e0e0e0;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 15px;
    }

    .dashboard-card .progress {
      background-color: #76c7c0;
      height: 10px;
      border-radius: 5px;
    }
  </style>
</head>

<body>
  <!-- Title container with logo, title, and info card -->
  <div id="title-container">
    <img src="./data/IOM logo.png" alt="IOM Logo" class="title-image">
    <div id="title">
      <h1>Sudan | Displacement Tracking Matrix - Returnees Flow</h1>
      <h2><strong>RETURN MONITORING SNAPSHOT</strong></h2>
    </div>
    <div id="infoCard">
      <p><strong>Latest Update:</strong> March 2025</p>
      <p><strong>Total Returnees:</strong> 396,738</p>
    </div>
  </div>

   <!-- Dashboard Cards Section -->
  <div class="dashboard-cards">
    <div class="dashboard-card">
      <h2>Card 1</h2>
      <p>This is the content of card 1.</p>
      <div class="progress-bar">
        <div class="progress" style="width: 70%;"></div>
      </div>
    </div>
    <div class="dashboard-card">
      <h2>Card 2</h2>
      <p>This is the content of card 2.</p>
      <div class="progress-bar">
        <div class="progress" style="width: 50%;"></div>
      </div>
    </div>
    <div class="dashboard-card">
      <h2>Card 3</h2>
      <p>This is the content of card 3.</p>
      <div class="progress-bar">
        <div class="progress" style="width: 90%;"></div>
      </div>
    </div>
    <div class="dashboard-card">
      <h2>Card 4</h2>
      <p>This is the content of card 4.</p>
      <div class="progress-bar">
        <div class="progress" style="width: 30%;"></div>
      </div>
    </div>
  </div>

  <!-- Content container for paragraph and timeline -->
  <div class="content-container">
    <!-- BPR Paragraph -->
    <div id="bpr-paragraph">
      <h2>Displacement and Returnee Movements in Sudan</h2>
      <p>
        DTM field teams monitored approximately <strong>396,738 individuals</strong> who returned from internal displacement to their locations of origin in Sudan. Individuals reportedly moved back to locations across <strong>Aj Jazirah (66%)</strong>, <strong>Sennar (29%)</strong>, and <strong>Khartoum (5%)</strong>.
        In addition to monitoring returnees at locations of origin, DTM field teams also track the return intentions of individuals leaving displacement sites and entering <strong>Aj Jazirah</strong>, <strong>Sennar</strong>, and <strong>Khartoum</strong> states to verify figures.
        Returnees recorded in <strong>Aj Jazirah</strong> reportedly moved back from locations in <strong>Gedaref (44%)</strong>, <strong>Sennar (21%)</strong>, <strong>Kassala (11%)</strong>, <strong>River Nile (9%)</strong>, <strong>Red Sea (7%)</strong>, <strong>White Nile (4%)</strong>, <strong>Blue Nile (2%)</strong>, and <strong>Northern (2%)</strong>.
        Returnees recorded in <strong>Sennar</strong> reportedly moved back from locations in <strong>Gedaref (38%)</strong>, <strong>Blue Nile (18%)</strong>, <strong>Kassala (13%)</strong>, <strong>Red Sea (19%)</strong>, <strong>White Nile (7%)</strong>, <strong>River Nile (3%)</strong>, <strong>Northern (1%)</strong>, and <strong>Khartoum (1%)</strong>.
      </p>
      <p>
        In addition to monitoring returnees at locations of origin, DTM field teams also track the return intentions of individuals leaving displacement sites and entering <strong>Aj Jazirah</strong>, <strong>Sennar</strong>, and <strong>Khartoum</strong> states to verify figures.
        These estimates represent data on individuals leaving states of displacement and intending to return to states of origin and therefore do not account for returnees who were displaced within the same state. Individuals returning to <strong>Khartoum</strong> reportedly moved back from <strong>River Nile (38%)</strong>, <strong>Red Sea (34%)</strong>, <strong>White Nile (18%)</strong>, and <strong>Northern (10%)</strong>.
      </p>
      <p>
        <em><strong>NOTE</em>:</strong> IDPs who returned from locations of displacement may not have returned to their specific locations of origin and may remain displaced within their locality or state of origin. DTM Sudan defines a returnee as a person who was previously displaced from their habitual residence within Sudan, due to an event dating from <strong>2003 onwards</strong>, and who has now voluntarily returned to the location of their habitual residence, irrespective of whether they have returned to their former residence or to another shelter type.
      </p>
    </div>

    <!-- Bar Chart Container -->
    <div id="bar-chart-container">
      <h2>Total Returnees by Locality of Return</h2>
      <canvas id="barChart"></canvas>
    </div>

    <!-- Timeline and Map Container -->
    <div id="timeline-map-container">
      <!-- Timeline Graph Container -->
      <div id="timeline-container">
        <h2>Returnees Over Time (October 2024 - June 2025)</h2>
        <canvas id="timelineChart"></canvas>
      </div>

      <!-- Map Container -->
      <div id="map-container">
        <h2 id="map-title">Returnee Movements Across Sudan</h2>
        <div id="map"></div>
      </div>

      <!-- Second Map Container -->
      <div id="map-container-2">
        <h2 id="map-title-2">Second Map: Returnee Movements Across Sudan</h2>
        <div id="map2"></div>
      </div>

      <!-- Third Map Container -->
      <div id="map-container-3">
        <h2 id="map-title-3">Total Number of IDPs by State (Admin1)</h2>
        <div id="map3"></div>
        <!-- Fourth Map Container -->
  <div id="map-container-4">
    <h2 id="map-title-4">Total Number of Returnees by State (Admin1)</h2>
    <div id="map4"></div>
  </div>
      </div>
    </div>
  </div>

  <!-- Add image above the footer -->
  <img src="./data/doner.png" alt="Donor Logo" style="width: 100%; height: auto; display: block; margin: 0 auto;">

  <footer>
    <p>&copy; 2025 International Organization for Migration | IOM, UN Migration. Sudan | Displacement Tracking Matrix</p>
    <div class="footer-links">
      <a href="https://dtm.iom.int/sudan" target="_blank">Visit IOM Sudan Website</a> |
      <a href="https://displacement.iom.int/" target="_blank">DTM Global Website</a> |
    </div>
    <div class="footer-info">
      <p>For more information, please contact <a href="mailto:dtmsudan@iom.int">dtmsudan@iom.int</a>.</p>
    </div>
  </footer>

  <!-- External Scripts -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <script src="https://unpkg.com/esri-leaflet@3.0.0/dist/esri-leaflet.js"></script>
  <script src="https://unpkg.com/@tweenjs/tween.js@18.6.4/dist/tween.umd.js"></script>
  <script src="./src/CanvasFlowmapLayer.js"></script>
  <script src="https://unpkg.com/papaparse@5.3.0/papaparse.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js"></script>

  <script>
    // Initialize the first map
    const map = L.map('map').setView([16, 30], L.Browser.mobile ? 3 : 5.5);

    // Define multiple base layers for the first map
    const cartoDBLight1 = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    const openStreetMap1 = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    const esriWorldImagery1 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: '&copy; <a href="https://www.esri.com/">Esri</a>'
    });

    const stamenToner1 = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png', {
      attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>'
    });

    // Add default base layer to the first map
    cartoDBLight1.addTo(map);

    // Add layer control to the first map
    const baseLayers1 = {
      "CartoDB Light": cartoDBLight1,
      "OpenStreetMap": openStreetMap1,
      "Esri World Imagery": esriWorldImagery1,
      "Stamen Toner": stamenToner1
    };

    L.control.layers(baseLayers1).addTo(map);

    // Parse CSV data and create flow map layer for the first map
    Papa.parse('./data/data.csv', {
      download: true,
      header: true,
      dynamicTyping: true,
      skipEmptyLines: true,
      complete: (results) => {
        const geoJsonFeatureCollection = {
          type: 'FeatureCollection',
          features: results.data.map(datum => ({
            type: 'Feature',
            geometry: { type: 'Point', coordinates: [datum.s_lon, datum.s_lat] },
            properties: datum
          }))
        };

        flowmapLayer = L.canvasFlowmapLayer(geoJsonFeatureCollection, {
          originAndDestinationFieldIds: {
            originUniqueIdField: 's_state_id',
            originGeometry: { x: 's_lon', y: 's_lat' },
            destinationUniqueIdField: 'e_locality_id',
            destinationGeometry: { x: 'e_lon', y: 'e_lat' }
          },
          style: (feature) => {
            const baseRadius = 6;
            const maxRadius = 20;
            const volume = feature.properties.e_Volume || 0;

            const radius = feature.properties.isOrigin
              ? baseRadius
              : Math.min(baseRadius + (volume / 5000), maxRadius);

            return {
              radius: radius,
              weight: 1,
              color: feature.properties.isOrigin ? 'rgb(17, 142, 170)' : 'rgb(195, 255, 62)',
              fillColor: feature.properties.isOrigin ? 'rgba(0, 51, 160)' : 'rgb(255, 103, 31)',
              fillOpacity: feature.properties.isOrigin ? 0.8 : 0.7
            };
          },
          canvasBezierStyle: {
            type: 'classBreaks',
            field: 'e_Volume',
            classBreakInfos: [
              { classMinValue: 1, classMaxValue: 10000, symbol: { strokeStyle: '#ffb81c', lineWidth: 0.5, lineCap: 'round', shadowColor: '#fee8c8', shadowBlur: 2.0 } },
              { classMinValue: 10001, classMaxValue: 20000, symbol: { strokeStyle: '#ff671f', lineWidth: 1.5, lineCap: 'round', shadowColor: '#fdbb84', shadowBlur: 2.0 } },
              { classMinValue: 20001, classMaxValue: 200000, symbol: { strokeStyle: '#d22630', lineWidth: 3, lineCap: 'round', shadowColor: '#e34a33', shadowBlur: 2.0 } }
            ],
            defaultSymbol: { strokeStyle: '#e7e1ef', lineWidth: 0.5, lineCap: 'round', shadowColor: '#e7e1ef', shadowBlur: 1.5 }
          },
          pathDisplayMode: 'all',
          animationStarted: true,
          animationEasingFamily: 'Linear',
          animationEasingType: 'None',
          animationDuration: 3000,
          onEachFeature: addTooltip
        }).addTo(map);

        // Add tooltip and popup to features
        function addTooltip(feature, layer) {
          const tooltipContent = feature.properties.isOrigin
            ? `State of Displacement: ${feature.properties.s_State}`
            : `State of Return: ${feature.properties.e_locality}`;

          layer.bindTooltip(tooltipContent);
          layer.on('mouseover', () => layer.openTooltip());
          layer.on('mouseout', () => layer.closeTooltip());

          // Add popup
          const popupContent = feature.properties.isOrigin
            ? `<b>State of Displacement:</b> ${feature.properties.s_State}`
            : `<b>State of Return:</b> ${feature.properties.e_locality}`;

          layer.bindPopup(popupContent);
        }

        // Highlight paths on mouseover
        flowmapLayer.on('mouseover', (e) => {
          if (e.sharedOriginFeatures.length) {
            flowmapLayer.selectFeaturesForPathDisplay(e.sharedOriginFeatures, 'SELECTION_NEW');
          }
          if (e.sharedDestinationFeatures.length) {
            flowmapLayer.selectFeaturesForPathDisplay(e.sharedDestinationFeatures, 'SELECTION_NEW');
          }
        });

        // Select initial feature for path display
        flowmapLayer.selectFeaturesForPathDisplayById('s_state_id', "SD15", true, 'SELECTION_NEW');
      }
    });

    // Add legend to the first map
    const legend = L.control({ position: 'bottomleft' });
    legend.onAdd = () => {
      const div = L.DomUtil.create('div', 'legend');
      div.innerHTML = `
        <span style="font-size:14px">Returnee Flow Volume:</span><br/>
        <div style="width:70px;height:3px;background:#ffb81c;float:left;margin-right:10px;margin-top:10px"></div>
        <span style="float:left;font-weight:bold"> < 10000</span><br/>
        <div style="width:70px;height:4px;background:#ff671f;float:left;margin-right:10px;margin-top:10px"></div>
        <span style="float:left;font-weight:bold">10,001 - 20,000</span><br/>
        <div style="width:70px;height:7px;background:#e34a33;float:left;margin-right:10px;margin-top:10px"></div>
        <span style="float:left;font-weight:bold"> > 20,000</span><br/>
      `;
      return div;
    };
    legend.addTo(map);

     // Initialize the second map
    const map2 = L.map('map2').setView([16, 30], L.Browser.mobile ? 3 : 5.5);

    // Define multiple base layers for the second map
    const cartoDBLight2 = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    const openStreetMap2 = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    const esriWorldImagery2 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: '&copy; <a href="https://www.esri.com/">Esri</a>'
    });

    const stamenToner2 = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png', {
      attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>'
    });

    // Add default base layer to the second map
    cartoDBLight2.addTo(map2);

    // Add layer control to the second map
    const baseLayers2 = {
      "CartoDB Light": cartoDBLight2,
      "OpenStreetMap": openStreetMap2,
      "Esri World Imagery": esriWorldImagery2,
      "Stamen Toner": stamenToner2
    };

    L.control.layers(baseLayers2).addTo(map2);

    
    // Add legend to the second map
    const legend2 = L.control({ position: 'bottomleft' });
    legend2.onAdd = () => {
      const div = L.DomUtil.create('div', 'legend');
      div.innerHTML = `
        <span style="font-size:14px">Returnee Flow Volume:</span><br/>
        <div style="width:70px;height:3px;background:#ffb81c;float:left;margin-right:10px;margin-top:10px"></div>
        <span style="float:left;font-weight:bold"> < 10000</span><br/>
        <div style="width:70px;height:4px;background:#ff671f;float:left;margin-right:10px;margin-top:10px"></div>
        <span style="float:left;font-weight:bold">10,001 - 20,000</span><br/>
        <div style="width:70px;height:7px;background:#e34a33;float:left;margin-right:10px;margin-top:10px"></div>
        <span style="float:left;font-weight:bold"> > 20,000</span><br/>
      `;
      return div;
    };
    legend2.addTo(map2);

    // Parse CSV data and create flow map layer for the second map
    Papa.parse('./data/data_idps.csv', {
      download: true,
      header: true,
      dynamicTyping: true,
      skipEmptyLines: true,
      complete: (results) => {
        const geoJsonFeatureCollection2 = {
          type: 'FeatureCollection',
          features: results.data.map(datum => ({
            type: 'Feature',
            geometry: { type: 'Point', coordinates: [datum.s_lon, datum.s_lat] },
            properties: datum
          }))
        };

        const flowmapLayer2 = L.canvasFlowmapLayer(geoJsonFeatureCollection2, {
          originAndDestinationFieldIds: {
            originUniqueIdField: 's_state_id',
            originGeometry: { x: 's_lon', y: 's_lat' },
            destinationUniqueIdField: 'e_locality_id',
            destinationGeometry: { x: 'e_lon', y: 'e_lat' }
          },
          style: (feature) => {
            const baseRadius = 12;
            const maxRadius = 6;
            const volume = feature.properties.e_Volume || 0;

            const radius = feature.properties.isOrigin
              ? baseRadius
              : Math.min(baseRadius + (volume / 5000), maxRadius);

            return {
              radius: radius,
              weight: 1,
              color: feature.properties.isOrigin ? 'rgb(17, 142, 170)' : 'rgb(195, 255, 62)',
              fillColor: feature.properties.isOrigin ? 'rgba(0, 51, 160)' : 'rgb(255, 103, 31)',
              fillOpacity: feature.properties.isOrigin ? 0.8 : 0.7
            };
          },
          canvasBezierStyle: {
            type: 'classBreaks',
            field: 'e_Volume',
            classBreakInfos: [
              { classMinValue: 1, classMaxValue: 10000, symbol: { strokeStyle: '#ffb81c', lineWidth: 0.5, lineCap: 'round', shadowColor: '#fee8c8', shadowBlur: 2.0 } },
              { classMinValue: 10001, classMaxValue: 20000, symbol: { strokeStyle: '#ff671f', lineWidth: 1.5, lineCap: 'round', shadowColor: '#fdbb84', shadowBlur: 2.0 } },
              { classMinValue: 20001, classMaxValue: 200000, symbol: { strokeStyle: '#d22630', lineWidth: 3, lineCap: 'round', shadowColor: '#e34a33', shadowBlur: 2.0 } }
            ],
            defaultSymbol: { strokeStyle: '#e7e1ef', lineWidth: 0.5, lineCap: 'round', shadowColor: '#e7e1ef', shadowBlur: 1.5 }
          },
          pathDisplayMode: 'all',
          animationStarted: true,
          animationEasingFamily: 'Linear',
          animationEasingType: 'None',
          animationDuration: 3000,
          onEachFeature: addTooltip
        }).addTo(map2);

        // Add tooltip and popup to features
        function addTooltip(feature, layer) {
          const tooltipContent = feature.properties.isOrigin
            ? `State of Displacement: ${feature.properties.s_State}`
            : `State of Return: ${feature.properties.e_locality}`;

          layer.bindTooltip(tooltipContent);
          layer.on('mouseover', () => layer.openTooltip());
          layer.on('mouseout', () => layer.closeTooltip());

          // Add popup
          const popupContent = feature.properties.isOrigin
            ? `<b>State of Displacement:</b> ${feature.properties.s_State}`
            : `<b>State of Return:</b> ${feature.properties.e_locality}`;

          layer.bindPopup(popupContent);
        }

        // Highlight paths on mouseover
        flowmapLayer2.on('mouseover', (e) => {
          if (e.sharedOriginFeatures.length) {
            flowmapLayer2.selectFeaturesForPathDisplay(e.sharedOriginFeatures, 'SELECTION_NEW');
          }
          if (e.sharedDestinationFeatures.length) {
            flowmapLayer2.selectFeaturesForPathDisplay(e.sharedDestinationFeatures, 'SELECTION_NEW');
          }
        });

        // Select initial feature for path display
        flowmapLayer2.selectFeaturesForPathDisplayById('s_state_id', "SD15", true, 'SELECTION_NEW');
      }
    });

   // Initialize the third map
    const map3 = L.map('map3').setView([16, 30], L.Browser.mobile ? 3 : 5.5);

    // Define multiple base layers for the third map
    const cartoDBLight3 = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    const openStreetMap3 = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    const esriWorldImagery3 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: '&copy; <a href="https://www.esri.com/">Esri</a>'
    });

    const stamenToner3 = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png', {
      attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>'
    });

    // Add default base layer to the third map
    cartoDBLight3.addTo(map3);

    // Add layer control to the third map
    const baseLayers3 = {
      "CartoDB Light": cartoDBLight3,
      "OpenStreetMap": openStreetMap3,
      "Esri World Imagery": esriWorldImagery3,
      "Stamen Toner": stamenToner3
    };

    L.control.layers(baseLayers3).addTo(map3);


   // Parse CSV data and create animated markers for the third map
Papa.parse('./data/total_idps.csv', {
  download: true,
  header: true,
  dynamicTyping: true,
  skipEmptyLines: true,
  complete: (results) => {
    const geoJsonFeatureCollection3 = {
      type: 'FeatureCollection',
      features: results.data.map(datum => ({
        type: 'Feature',
        geometry: { type: 'Point', coordinates: [datum.lon, datum.lat] },
        properties: datum
      }))
    };

    // Find the maximum total_idps value for normalization
    const maxTotalIdps = Math.max(...results.data.map(d => d.total_idps));

    // Function to animate circle markers
    function animateCircleMarker(marker, baseRadius) {
      const tween = new TWEEN.Tween({ radius: baseRadius })
        .to({ radius: baseRadius * 1.5 }, 1000) // Animate to 1.5x the base radius
        .easing(TWEEN.Easing.Sinusoidal.InOut) // Smooth easing
        .yoyo(true) // Reverse the animation
        .repeat(Infinity) // Repeat indefinitely
        .onUpdate(({ radius }) => {
          marker.setRadius(radius); // Update the marker's radius
        })
        .start(); // Start the animation
    }

    // Add animated markers to the third map
    L.geoJSON(geoJsonFeatureCollection3, {
      pointToLayer: (feature, latlng) => {
        // Normalize the total_idps value to determine the base radius
        const baseRadius = 8 + (feature.properties.total_idps / maxTotalIdps) * 20;

        // Create a circle marker
        const marker = L.circleMarker(latlng, {
          radius: baseRadius, // Initial radius
          fillColor: '#0033A0', // Bule color for IDPs
          color: '#fff',
          weight: 1,
          opacity: 1,
          fillOpacity: 0.7
        });

        // Animate the marker
        animateCircleMarker(marker, baseRadius);

        return marker;
      },
      onEachFeature: (feature, layer) => {
        const popupContent = `
          <b>State:</b> ${feature.properties.state}<br/>
          <b>Total IDPs:</b> ${feature.properties.total_idps.toLocaleString()}
        `;
        layer.bindPopup(popupContent);

        // Add tooltip
        const tooltipContent = `<b>${feature.properties.state}</b><br/>
          <b>Total IDPs:</b> ${feature.properties.total_idps.toLocaleString()}`;
        layer.bindTooltip(tooltipContent);
      }
    }).addTo(map3);
  }
});

// Update Tween.js animations on each frame
function animate() {
  requestAnimationFrame(animate);
  TWEEN.update();
}
animate(); // Start the animation loop

// Add legend to the third map
const legend3 = L.control({ position: 'bottomleft' });
legend3.onAdd = () => {
  const div = L.DomUtil.create('div', 'legend');
  div.innerHTML = `
    <span style="font-size:14px; font-weight:bold;">Total IDPs by State:</span><br/>
    <div style="display: flex; align-items: center; margin-top: 10px;">
      <div style="width: 10px; height: 10px; background: #0033A0; border-radius: 50%; margin-right: 10px;"></div>
      <span style="font-size:12px;">Small Circle: < 10,000 IDPs</span>
    </div>
    <div style="display: flex; align-items: center; margin-top: 5px;">
      <div style="width: 20px; height: 20px; background: #0033A0; border-radius: 50%; margin-right: 10px;"></div>
      <span style="font-size:12px;">Medium Circle: 10,000 - 50,000 IDPs</span>
    </div>
    <div style="display: flex; align-items: center; margin-top: 5px;">
      <div style="width: 30px; height: 30px; background: #0033A0; border-radius: 50%; margin-right: 10px;"></div>
      <span style="font-size:12px;">Large Circle: > 50,000 IDPs</span>
    </div>
  `;
  return div;
};
legend3.addTo(map3);
     
    // Initialize Timeline Graph
    const ctx = document.getElementById('timelineChart').getContext('2d');
    const gradient = ctx.createLinearGradient(0, 0, 0, 200);
    gradient.addColorStop(0, 'rgba(0, 51, 160, 0.8)');
    gradient.addColorStop(1, 'rgba(0, 51, 160, 0.2)');

    const timelineChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Oct-24','Nov-24','Dec-24', 'Jan-25', 'Feb-25', 'Mar-25', 'Apr-25', 'May-25', 'Jun-25'],
        datasets: [{
          label: 'Returnees Over Time',
          data: [0,0,53517, 32240, 282217, 9430, 0, 0, 0],
          borderColor: '#0033A0',
          backgroundColor: gradient,
          borderWidth: 3,
          fill: true,
          pointBackgroundColor: '#0033A0',
          pointBorderColor: '#fff',
          pointRadius: 5,
          pointHoverRadius: 7,
          tension: 0.4
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          tooltip: {
            backgroundColor: '#0033A0',
            titleColor: '#fff',
            bodyColor: '#fff',
            borderColor: '#fff',
            borderWidth: 1,
            displayColors: false
          },
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            title: {
              display: true,
              text: 'Number of Returnees',
              color: '#0033A0',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            grid: {
              color: '#e0e0e0'
            }
          },
          x: {
            title: {
              display: true,
              text: 'Month',
              color: '#0033A0',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            grid: {
              color: '#e0e0e0'
            }
          }
        },
        animation: {
          duration: 15000,
          easing: 'easeInOutQuart'
        }
      }
    });
 

  <!-- ... (previous HTML content remains unchanged) ... -->


    // ... (previous JavaScript code remains unchanged) ...

    // Initialize the fourth map
    const map4 = L.map('map4').setView([16, 30], L.Browser.mobile ? 3 : 5.5);

    // Define multiple base layers for the fourth map
    const cartoDBLight4 = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    const openStreetMap4 = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    const esriWorldImagery4 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: '&copy; <a href="https://www.esri.com/">Esri</a>'
    });

    const stamenToner4 = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png', {
      attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>'
    });

    // Add default base layer to the fourth map
    cartoDBLight4.addTo(map4);

    // Add layer control to the fourth map
    const baseLayers4 = {
      "CartoDB Light": cartoDBLight4,
      "OpenStreetMap": openStreetMap4,
      "Esri World Imagery": esriWorldImagery4,
      "Stamen Toner": stamenToner4
    };

    L.control.layers(baseLayers4).addTo(map4);

    // Parse CSV data and create animated markers for the fourth map
    Papa.parse('./data/total_return.csv', {
      download: true,
      header: true,
      dynamicTyping: true,
      skipEmptyLines: true,
      complete: (results) => {
        const geoJsonFeatureCollection4 = {
          type: 'FeatureCollection',
          features: results.data.map(datum => ({
            type: 'Feature',
            geometry: { type: 'Point', coordinates: [datum.lon, datum.lat] },
            properties: datum
          }))
        };

        // Find the maximum total_return value for normalization
        const maxTotalReturn = Math.max(...results.data.map(d => d.total_return));

        // Function to animate circle markers
        function animateCircleMarker(marker, baseRadius) {
          const tween = new TWEEN.Tween({ radius: baseRadius })
            .to({ radius: baseRadius * 1.5 }, 1000) // Animate to 1.5x the base radius
            .easing(TWEEN.Easing.Sinusoidal.InOut) // Smooth easing
            .yoyo(true) // Reverse the animation
            .repeat(Infinity) // Repeat indefinitely
            .onUpdate(({ radius }) => {
              marker.setRadius(radius); // Update the marker's radius
            })
            .start(); // Start the animation
        }

        // Add animated markers to the fourth map
        L.geoJSON(geoJsonFeatureCollection4, {
          pointToLayer: (feature, latlng) => {
            // Normalize the total_return value to determine the base radius
            const baseRadius = 8 + (feature.properties.total_return / maxTotalReturn) * 20;

            // Create a circle marker
            const marker = L.circleMarker(latlng, {
              radius: baseRadius, // Initial radius
              fillColor: 'rgba(255, 103, 31, 0.8)', // orange color for returnees
              color: '#fff',
              weight: 1,
              opacity: 1,
              fillOpacity: 0.7
            });

            // Animate the marker
            animateCircleMarker(marker, baseRadius);

            return marker;
          },
          onEachFeature: (feature, layer) => {
            const popupContent = `
              <b>State:</b> ${feature.properties.state}<br/>
              <b>Total Returnees:</b> ${feature.properties.total_return.toLocaleString()}
            `;
            layer.bindPopup(popupContent);

            // Add tooltip
            const tooltipContent = `<b>${feature.properties.state}</b><br/>
              <b>Total Returnees:</b> ${feature.properties.total_return.toLocaleString()}`;
            layer.bindTooltip(tooltipContent);
          }
        }).addTo(map4);
      }
    });

   // Add legend to the fourth map
const legend4 = L.control({ position: 'bottomleft' });
legend4.onAdd = () => {
  const div = L.DomUtil.create('div', 'legend');
  div.innerHTML = `
    <span style="font-size:14px; font-weight:bold;">Total Returnees by State:</span><br/>
    <div style="display: flex; align-items: center; margin-top: 10px;">
      <div style="width: 10px; height: 10px; background: rgba(255, 103, 31, 0.8); border-radius: 50%; margin-right: 10px;"></div>
      <span style="font-size:12px;">Small Circle: < 10,000 Returnees</span>
    </div>
    <div style="display: flex; align-items: center; margin-top: 5px;">
      <div style="width: 20px; height: 20px; background: rgba(255, 103, 31, 0.8); border-radius: 50%; margin-right: 10px;"></div>
      <span style="font-size:12px;">Medium Circle: 10,000 - 50,000 Returnees</span>
    </div>
    <div style="display: flex; align-items: center; margin-top: 5px;">
      <div style="width: 30px; height: 30px; background: rgba(255, 103, 31, 0.8); border-radius: 50%; margin-right: 10px;"></div>
      <span style="font-size:12px;">Large Circle: > 50,000 Returnees</span>
    </div>
  `;
  return div;
};
legend4.addTo(map4);
     // Add animation to the info card
  const infoCard = document.getElementById('infoCard');

  infoCard.addEventListener('mouseenter', () => {
    // Animate the card on hover
    infoCard.animate(
      [
        { transform: 'scale(1)', boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)' },
        { transform: 'scale(1.05)', boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)' },
        { transform: 'scale(1)', boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)' }
      ],
      {
        duration: 500, // Animation duration in milliseconds
        easing: 'ease-in-out', // Smooth easing
        iterations: 1 // Run once
      }
    );
  });

  // Add a "shake" effect on click
  infoCard.addEventListener('click', () => {
    infoCard.animate(
      [
        { transform: 'translateX(0)' },
        { transform: 'translateX(-5px)' },
        { transform: 'translateX(5px)' },
        { transform: 'translateX(-5px)' },
        { transform: 'translateX(5px)' },
        { transform: 'translateX(0)' }
      ],
      {
        duration: 1500, // Shake duration
        easing: 'ease-in-out', // Smooth easing
        iterations: 5 // Run once
      }
    );
  });

    // ... (rest of the JavaScript code remains unchanged) ...

    // Initialize Bar Chart
    const barCtx = document.getElementById('barChart').getContext('2d');
    const barChart = new Chart(barCtx, {
      type: 'bar',
      data: {
        labels: [
          "Madani Alkubra", "Um Algura", "Janoub Aj Jazirah", "Al Hassahisa", 
          "Sharg Aj Jazirah", "Abu Hujar", "Ad Dinder", "As Suki", 
          "Sennar", "Sharg Sennar", "Sinja"
        ],
        datasets: [{
          label: 'Total Returnees',
          data: [10960, 84575, 20455, 12705, 133950, 4690, 6935, 74509, 15725, 3305, 9595],
          backgroundColor: [
            // Aj Jazirah localities (first 5 items)
            'rgba(0, 51, 160, 0.6)', // Madani Alkubra
            'rgba(0, 51, 160, 0.6)', // Um Algura
            'rgba(0, 51, 160, 0.6)', // Janoub Aj Jazirah
            'rgba(0, 51, 160, 0.6)', // Al Hassahisa
            'rgba(0, 51, 160, 0.6)', // Sharg Aj Jazirah
            // Sennar localities (remaining items)
            'rgba(255, 103, 31, 0.6)', // Abu Hujar
            'rgba(255, 103, 31, 0.6)', // Ad Dinder
            'rgba(255, 103, 31, 0.6)', // As Suki
            'rgba(255, 103, 31, 0.6)', // Sennar
            'rgba(255, 103, 31, 0.6)', // Sharg Sennar
            'rgba(255, 103, 31, 0.6)'  // Sinja
          ],
          borderColor: [
            // Aj Jazirah localities (first 5 items)
            '#0033A0', // Madani Alkubra
            '#0033A0', // Um Algura
            '#0033A0', // Janoub Aj Jazirah
            '#0033A0', // Al Hassahisa
            '#0033A0', // Sharg Aj Jazirah
            // Sennar localities (remaining items)
            '#FF671F', // Abu Hujar
            '#FF671F', // Ad Dinder
            '#FF671F', // As Suki
            '#FF671F', // Sennar
            '#FF671F', // Sharg Sennar
            '#FF671F'  // Sinja
          ],
          borderWidth: 2,
          hoverBackgroundColor: [
            // Aj Jazirah localities (first 5 items)
            'rgba(0, 51, 160, 0.8)', // Madani Alkubra
            'rgba(0, 51, 160, 0.8)', // Um Algura
            'rgba(0, 51, 160, 0.8)', // Janoub Aj Jazirah
            'rgba(0, 51, 160, 0.8)', // Al Hassahisa
            'rgba(0, 51, 160, 0.8)', // Sharg Aj Jazirah
            // Sennar localities (remaining items)
            'rgba(255, 103, 31, 0.8)', // Abu Hujar
            'rgba(255, 103, 31, 0.8)', // Ad Dinder
            'rgba(255, 103, 31, 0.8)', // As Suki
            'rgba(255, 103, 31, 0.8)', // Sennar
            'rgba(255, 103, 31, 0.8)', // Sharg Sennar
            'rgba(255, 103, 31, 0.8)'  // Sinja
          ],
          hoverBorderColor: [
            // Aj Jazirah localities (first 5 items)
            '#0033A0', // Madani Alkubra
            '#0033A0', // Um Algura
            '#0033A0', // Janoub Aj Jazirah
            '#0033A0', // Al Hassahisa
            '#0033A0', // Sharg Aj Jazirah
            // Sennar localities (remaining items)
            '#FF671F', // Abu Hujar
            '#FF671F', // Ad Dinder
            '#FF671F', // As Suki
            '#FF671F', // Sennar
            '#FF671F', // Sharg Sennar
            '#FF671F'  // Sinja
          ]
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          tooltip: {
            backgroundColor: '#0033A0',
            titleColor: '#fff',
            bodyColor: '#fff',
            borderColor: '#fff',
            borderWidth: 1,
            displayColors: false
          },
          legend: {
            display: true,
            position: 'top',
            labels: {
              generateLabels: (chart) => {
                const datasets = chart.data.datasets;
                return [
                  {
                    text: 'Aj Jazirah Localities',
                    fillStyle: 'rgba(0, 51, 160, 0.6)',
                    strokeStyle: '#0033A0',
                    lineWidth: 2,
                    hidden: false
                  },
                  {
                    text: 'Sennar Localities',
                    fillStyle: 'rgba(255, 103, 31, 0.6)',
                    strokeStyle: '#FF671F',
                    lineWidth: 2,
                    hidden: false
                  }
                ];
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            title: {
              display: true,
              text: 'Total Returnees',
              color: '#0033A0',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            grid: {
              color: '#e0e0e0'
            }
          },
          x: {
            title: {
              display: true,
              text: 'Locality of Return',
              color: '#0033A0',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            grid: {
              display: false
            },
            ticks: {
              autoSkip: false,
              maxRotation: 45,
              minRotation: 45
            }
          }
        },
        animation: {
          duration: 15000,
          easing: 'easeInOutQuart'
        }
      }
    });
  </script>
</body>

</html>
